<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ensayo de Dureza Vickers: Guía Interactiva</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Tech (Background: #FDFDFB, Text: #333333, Primary: #2D5A6C, Accent: #A58D7B) -->
    <!-- Application Structure Plan: A single-page, multi-section layout designed for guided discovery, following the user's script. Each major point from the script is a section, allowing for a structured presentation flow. Interactive elements like tabs, modals, and charts are used to engage the user and clarify complex topics. -->
    <!-- Visualization & Content Choices:
    - Cover: Interactive cover activated by click, not hover, to avoid accidental triggering.
    - Presentation Mode: Full-screen capability with slide-by-slide navigation using arrows.
    - Image Viewer: All key images are clickable, opening a modal with a larger view, title, and description for detailed examination.
    - Content Sections: Directly mapped from the user-provided script, ensuring all topics are covered in the correct order.
    - Interactive Elements: Tabs for the procedure, a calculator for the formula, and a filterable chart for material comparison.
    - Library/Method: Vanilla JS for all interactions and Chart.js for visualization, ensuring compatibility and speed.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFDFB;
            color: #333333;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #2D5A6C;
            border-bottom-color: #2D5A6C;
        }
        .btn-primary {
            background-color: #2D5A6C;
            color: white;
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #244857;
        }
        .tab.active {
            background-color: #2D5A6C;
            color: white;
            border-color: #2D5A6C;
        }
        .tab {
            border-color: #A58D7B;
            color: #A58D7B;
            transition: background-color 0.3s, color 0.3s;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 4px solid transparent;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        section .card {
             border-top-color: #2D5A6C;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 600px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 700px;
            }
        }
        .h-line {
            width: 50px;
            height: 3px;
            background-color: #A58D7B;
            margin: 0 auto;
        }
        #main-header {
            transition: opacity 0.5s ease-in-out;
        }
        .content-container {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        .integrante-nombre {
            transition: color 0.3s;
        }
        .integrante-nombre:hover {
            color: #a5c4d4;
        }
        .video-card-wrapper {
            transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .video-grid:hover .video-card-wrapper:not(:hover) {
            flex-grow: 0 !important;
            width: 20% !important;
            opacity: 0.5;
        }
         .video-grid:hover .video-card-wrapper:hover {
            flex-grow: 1 !important;
            width: 60% !important;
        }
        .presentation-nav {
            transition: opacity 0.3s ease-in-out;
        }
        .image-modal-backdrop {
            transition: opacity 0.3s ease-in-out;
        }
        .image-modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .clickable-image {
            cursor: zoom-in;
        }
    </style>
</head>
<body class="overflow-x-hidden">
    
    <div class="fixed top-4 right-4 z-[60] flex space-x-2">
        <button id="play-presentation-btn" class="p-3 bg-white/80 rounded-full shadow-lg hover:bg-gray-200 transition">
            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
            <svg id="stop-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>
        </button>
        <button id="fullscreen-btn" class="p-3 bg-white/80 rounded-full shadow-lg hover:bg-gray-200 transition">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-800"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>
        </button>
    </div>

    <div id="presentation-nav-prev" class="presentation-nav fixed left-4 top-1/2 -translate-y-1/2 z-[60] opacity-0 pointer-events-none">
        <button class="p-4 bg-white/80 rounded-full shadow-lg hover:bg-gray-200 transition disabled:opacity-50 disabled:cursor-not-allowed">
             <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
    </div>
     <div id="presentation-nav-next" class="presentation-nav fixed right-4 top-1/2 -translate-y-1/2 z-[60] opacity-0 pointer-events-none">
        <button class="p-4 bg-white/80 rounded-full shadow-lg hover:bg-gray-200 transition">
             <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </button>
    </div>


    <section id="caratula" class="relative text-white" style="min-height: 100vh; overflow: hidden;">
        <div class="absolute inset-0 bg-gray-900">
            <img src="https://images.unsplash.com/photo-1550745165-9bc0b252726a?q=80&w=2070&auto=format&fit=crop" alt="Fondo tecnológico abstracto" class="w-full h-full object-cover opacity-20">
        </div>
        <div class="relative z-10 flex flex-col items-center justify-center min-h-screen text-center p-8">
            
            <div id="initial-content-wrapper" class="content-container w-full flex flex-col items-center justify-center">
                <p class="text-2xl md:text-3xl text-gray-300">INSTITUTO 13 DE JULIO - C.A.B.A</p>
                <h1 class="text-6xl md:text-8xl font-black tracking-tighter text-white my-4" style="font-family: 'Montserrat', sans-serif; text-shadow: 3px 3px 10px rgba(0,0,0,0.5);">EXPOSICIÓN: ENSAYO VICKERS</h1>
                <p class="text-xl md:text-2xl text-gray-300">Laboratorio de Ensayos Industriales</p>
                <p class="text-lg mt-8"><strong>Profesor:</strong> Bertini</p>
                <button id="start-presentation-btn" class="mt-8 inline-block bg-white text-gray-900 font-bold py-4 px-10 rounded-full text-xl hover:bg-gray-200 transition-colors duration-300 shadow-lg">
                    Comenzar Exposición
                </button>
            </div>
            
            <div id="integrantes-content-wrapper" class="content-container absolute inset-0 w-full flex-col items-center justify-center opacity-0 pointer-events-none flex">
                 <p class="text-4xl font-bold mb-8">Integrantes</p>
                 <div class="text-5xl md:text-7xl font-semibold space-y-4">
                    <p class="integrante-nombre">Jesús Castellanos</p>
                    <p class="integrante-nombre">Nicolas Arguello</p>
                    <p class="integrante-nombre">Paloma Mariño</p>
                    <p class="integrante-nombre">Brian Gimenez</p>
                    <p class="integrante-nombre">Jesus Rozzano</p>
                </div>
            </div>

        </div>
    </section>

    <header id="main-header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm opacity-0">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-[#2D5A6C]">Ensayo Vickers</h1>
            <div class="hidden md:flex flex-wrap items-center justify-center space-x-4 lg:space-x-6">
                <a href="#intro" class="nav-link font-semibold pb-1">Introducción</a>
                <a href="#procedimiento" class="nav-link font-semibold pb-1">Procedimiento</a>
                <a href="#formula" class="nav-link font-semibold pb-1">Fórmula y Normas</a>
                <a href="#aplicaciones" class="nav-link font-semibold pb-1">Aplicaciones</a>
                <a href="#ventajas" class="nav-link font-semibold pb-1">Veredicto</a>
                <a href="#videos" class="nav-link font-semibold pb-1">Videos</a>
                <a href="#referencias" class="nav-link font-semibold pb-1">Referencias</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2D5A6C]">
                <div class="w-6 h-0.5 bg-[#333333] mb-1.5"></div>
                <div class="w-6 h-0.5 bg-[#333333]"></div>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4">
            <a href="#intro" class="block py-2 text-center nav-link">Introducción</a>
            <a href="#procedimiento" class="block py-2 text-center nav-link">Procedimiento</a>
            <a href="#formula" class="block py-2 text-center nav-link">Fórmula y Normas</a>
            <a href="#aplicaciones" class="block py-2 text-center nav-link">Aplicaciones</a>
            <a href="#ventajas" class="block py-2 text-center nav-link">Veredicto</a>
            <a href="#videos" class="block py-2 text-center nav-link">Videos</a>
            <a href="#referencias" class="block py-2 text-center nav-link">Referencias</a>
        </div>
    </header>

    <main>
        <section id="intro" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="text-3xl md:text-5xl font-bold text-[#2D5A6C] mb-4">Introducción: La Medida de la Resistencia</h2>
                    <p class="max-w-3xl mx-auto text-lg md:text-xl text-gray-600 mb-12">
                        En ciencia de materiales, la dureza es la resistencia a la deformación plástica localizada. Es crítica para la seguridad y vida útil de componentes, desde un bisturí hasta una turbina. El ensayo Vickers es el método más preciso y versátil para cuantificar esta propiedad.
                    </p>
                </div>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start max-w-4xl mx-auto mb-12">
                        <div class="text-center">
                            <img src="https://www.zwickroell.com/zrmedia/_processed_/d/c/csm_CTA56723_TVM1065297_c0062c3111.png" alt="Huella Vickers" class="mx-auto h-48 object-contain mb-2 rounded-lg clickable-image" data-title="Huella de Precisión" data-description="Una indentación Vickers perfecta: piramidal, nítida y simétrica. Su medición precisa es la clave del ensayo.">
                        </div>
                        <div class="text-center">
                            <img src="https://nasruldesign.weebly.com/uploads/7/4/1/9/7419180/8927090_orig.jpg" alt="Comparativa Brinell vs Vickers" class="mx-auto h-48 object-contain mb-2 rounded-lg clickable-image" data-title="Evolución de la Medición" data-description="Comparación visual entre la gran huella del método Brinell (izquierda) y la pequeña y precisa huella del método Vickers (derecha).">
                        </div>
                    </div>
                <div class="text-center">
                    <h3 class="text-2xl md:text-3xl font-bold text-[#2D5A6C] my-12">Contexto Histórico y Desarrollo</h3>
                    <p class="max-w-3xl mx-auto text-lg md:text-xl text-gray-600 mb-12">
                       Desarrollado entre 1921 y 1925 por Robert L. Smith y George E. Sandland en los laboratorios de Vickers Ltd., el ensayo surgió de la necesidad de superar las limitaciones del método Brinell para ensayar los nuevos aceros tratados y componentes de precisión de la época.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center max-w-4xl mx-auto mb-12">
                        <div class="text-center">
                            <img src="https://media.licdn.com/dms/image/v2/D4E10AQEz3sv2G3OfSg/image-shrink_800/B4EZcgbBHQG4Ak-/0/1748595645863?e=2147483647&v=beta&t=4ekRF9a-0KCz9UyK8NIwVS-dP5iBaVxYnNyDUEVY2lQ" alt="Fábrica de Vickers-Armstrongs en Sheffield" class="mx-auto h-40 object-contain mb-2 rounded-lg clickable-image" data-title="Vickers Ltd. (c. 1920)" data-description="La innovación fue impulsada por los desafíos de ingeniería de vanguardia en Vickers Ltd., que diversificó su producción hacia aeronaves y maquinaria de precisión.">
                            
                        </div>
                        <div class="text-center">
                            <!-- PARA AÑADIR/CAMBIAR FOTO DE LOS CREADORES: Reemplaza la URL de abajo. -->
                            <img src="https://pbs.twimg.com/media/FSeAtrCXwAENDdS.jpg" alt="Robert L. Smith y George E. Sandland" class="mx-auto h-40 object-contain mb-2 rounded-lg clickable-image" data-title="Los Inventores" data-description="Robert L. Smith y George E. Sandland, los ingenieros de Vickers Ltd. que desarrollaron el método.">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="procedimiento" class="py-16 md:py-24 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">El Procedimiento: El Arte de la Precisión</h2>
                    <p class="max-w-3xl mx-auto text-lg text-gray-600">
                        Regulado por normas como ISO 6507 y ASTM E384, el ensayo Vickers sigue un ciclo preciso para garantizar resultados repetibles y comparables a nivel mundial.
                    </p>
                     <div class="h-line mt-6"></div>
                </div>
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="md:w-1/3">
                        <div id="procedimiento-tabs" class="flex md:flex-col justify-center gap-4">
                            <button data-target="paso1" class="procedimiento-tab tab text-lg font-semibold border-2 rounded-lg px-6 py-3 w-full text-left active">1. Preparación de Muestra</button>
                            <button data-target="paso2" class="procedimiento-tab tab text-lg font-semibold border-2 rounded-lg px-6 py-3 w-full text-left">2. Ciclo de Indentación</button>
                            <button data-target="paso3" class="procedimiento-tab tab text-lg font-semibold border-2 rounded-lg px-6 py-3 w-full text-left">3. Medición Óptica</button>
                        </div>
                    </div>
                    <div class="md:w-2/3">
                        <div id="paso1" class="procedimiento-content app-content card p-8">
                             <h3 class="text-2xl font-bold text-[#2D5A6C] mb-4">Paso 1: Preparación de la Muestra</h3>
                             <p class="text-gray-700 mb-4">Este es el paso más crítico. La superficie debe ser plana, lisa y limpia. Para microdureza se requiere un pulido a espejo. Una mala preparación conduce a resultados erróneos.</p>
                            <img src="https://www.nortonabrasives.com/sites/mac3-acs-norton/files/styles/original_optimised/public/Step%25204%2520polishing_0.png?itok=v4M_JU7p" class="w-full h-auto object-cover rounded-lg clickable-image" onerror="this.onerror=null;this.src='https://placehold.co/600x300/e2e8f0/94a3b8?text=Pulido+a+Espejo';">
                        </div>
                        <div id="paso2" class="procedimiento-content app-content hidden card p-8">
                             <h3 class="text-2xl font-bold text-[#2D5A6C] mb-4">Paso 2: Ciclo de Indentación</h3>
                             <p class="text-gray-700 mb-4">La fuerza se aplica suavemente (7s), se mantiene constante (10-15s) para la deformación plástica, y se retira suavemente.</p>
                            <img src="https://www.tec-science.com/wp-content/uploads/2021/03/en-hardness-test-vickers-process.jpg" alt="Proceso de indentación Vickers sobre la probeta" class="w-full h-auto object-cover rounded-lg clickable-image" onerror="this.onerror=null;this.src='https://placehold.co/600x300/e2e8f0/94a3b8?text=Indentación';">
                        </div>
                        <div id="paso3" class="procedimiento-content app-content hidden card p-8">
                             <h3 class="text-2xl font-bold text-[#2D5A6C] mb-4">Paso 3: Medición Óptica de la Huella</h3>
                             <p class="text-gray-700 mb-4">Se miden ambas diagonales (d₁ y d₂) y se promedian para compensar distorsiones, asegurando una medición precisa.</p>
                            <img src="https://www.researchgate.net/profile/Enrique-Rocha-Rangel/publication/28211170/figure/fig4/AS:667825068699651@1536233310069/Micrografia-tipica-de-las-indentaciones-Vickers-50-MPa.png" alt="Huella de dureza Vickers en microscopio" class="w-full h-auto object-cover rounded-lg clickable-image" onerror="this.onerror=null;this.src='https://placehold.co/600x300/e2e8f0/94a3b8?text=Huella+Vickers';">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="formula" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">El Lenguaje de la Dureza: Fórmula y Normas</h2>
                    <p class="max-w-3xl mx-auto text-lg text-gray-600">El valor de dureza Vickers (HV) se calcula, no se mide directamente. La fórmula estandarizada y la notación correcta son el lenguaje universal que asegura la trazabilidad y reproducibilidad de la medida.</p>
                     <div class="h-line mt-6"></div>
                </div>

                <div class="max-w-4xl mx-auto card p-8">
                    <div class="text-center mb-6">
                        <p class="text-2xl font-mono bg-gray-100 p-4 rounded-lg inline-block">HV ≈ 1.854 × ( F / d² )</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                        <div class="md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <div>
                                <label for="fuerza" class="block font-semibold mb-2">Fuerza Aplicada (F) <span class="text-sm text-gray-500">(kgf)</span></label>
                                <input type="number" id="fuerza" value="30" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A58D7B] focus:border-[#A58D7B]">
                            </div>
                            <div>
                                <label for="diagonal" class="block font-semibold mb-2">Diagonal Media (d) <span class="text-sm text-gray-500">(mm)</span></label>
                                <input type="number" id="diagonal" value="0.35" step="0.01" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A58D7B] focus:border-[#A58D7B]">
                            </div>
                             <div class="sm:col-span-2">
                                <button id="calculateBtn" class="btn-primary w-full font-bold py-3 px-6 rounded-lg">Calcular Dureza</button>
                            </div>
                        </div>
                        <div class="text-center bg-blue-50 p-6 rounded-lg border-2 border-dashed border-[#2D5A6C]">
                            <p class="text-lg font-semibold text-[#2D5A6C]">Dureza Vickers</p>
                            <p id="resultadoHV" class="text-4xl md:text-5xl font-bold text-[#2D5A6C] my-2">--</p>
                            <p id="resultadoLabel" class="text-gray-600 font-semibold">HV</p>
                        </div>
                    </div>
                    <div class="mt-8 text-center">
                        <h3 class="text-xl font-bold text-[#2D5A6C] mb-4">Marco Normativo</h3>
                        <p class="text-gray-700">La confianza en este lenguaje universal se basa en normas como ISO 6507, ASTM E384 y la norma nacional IRAM-IAS U 500-110, que definen desde las tolerancias del diamante hasta el espaciado mínimo entre huellas. La norma IRAM, por ejemplo, incluye tablas de corrección para superficies curvas, una adición de gran valor práctico.</p>
                         <div class="flex justify-center space-x-8 mt-4">
                            <img src="https://1000marcas.net/wp-content/uploads/2020/11/ISO-Logo.png" alt="Logo ISO" class="h-10 object-contain clickable-image" data-title="Norma ISO 6507" data-description="Estándar internacional principal para el ensayo de dureza Vickers.">
                            <img src="https://www.yeonjin.com/storage/app/public/media/public/media_library/1d/af/202102151328082e76f8c37b956b6bf17ba56c9cf719351e3abdc4.png" alt="Logo ASTM" class="h-10 object-contain clickable-image" data-title="Normas ASTM E384 / E92" data-description="Estándares de la Sociedad Americana para Pruebas y Materiales para micro y macrodureza.">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1rhGVl3DmRqJ0Ts6PjiR8jIxeKzcteg8x9NPaeml4Emwa83CYbUYrDRIw1bm116PPkn8" alt="Logo IRAM" class="h-10 object-contain clickable-image" data-title="Norma IRAM-IAS U 500-110" data-description="Norma nacional argentina, armonizada con los estándares internacionales.">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="aplicaciones" class="py-16 md:py-24 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                     <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">Aplicaciones Críticas en Ingeniería</h2>
                     <p class="max-w-3xl mx-auto text-lg text-gray-600">Veremos casos donde una medición precisa de la dureza es la diferencia entre un componente que dura décadas y uno que falla catastróficamente.</p>
                     <div class="h-line mt-6"></div>
                </div>
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="md:w-1/3">
                        <div id="app-tabs" class="flex md:flex-col justify-center gap-4">
                            <button data-target="app1" class="app-tab tab text-lg font-semibold border-2 rounded-lg px-6 py-3 w-full text-left active">Tratamientos Térmicos</button>
                            <button data-target="app2" class="app-tab tab text-lg font-semibold border-2 rounded-lg px-6 py-3 w-full text-left">Uniones Soldadas</button>
                            <button data-target="app3" class="app-tab tab text-lg font-semibold border-2 rounded-lg px-6 py-3 w-full text-left">Microdureza</button>
                        </div>
                    </div>
                    <div class="md:w-2/3">
                        <div id="app1" class="app-content card p-8">
                             <h3 class="text-2xl font-bold text-[#2D5A6C] mb-4">🌡️ La Armadura Invisible: Control de Tratamientos Térmicos</h3>
                             <p class="text-gray-700 mb-4">Es el método estándar para verificar la eficacia de tratamientos como la cementación o el temple. Se crean "perfiles de dureza" para determinar con exactitud la Profundidad de Dureza Efectiva (CHD), un parámetro vital para engranajes, ejes y rodamientos.</p>
                             <img src="https://www.researchgate.net/profile/Antanas-Ciuplys/publication/237286535/figure/fig4/AS:393268295684104@1470773876956/Dependence-of-Vickers-hardness-of-nitrided-grade-AISI-4140-steel-specimens-on-layer-depth.png" alt="Gráfico de perfil de dureza" class="w-full h-auto object-cover rounded-lg clickable-image" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=Perfil+de+Dureza';">
                        </div>
                        <div id="app2" class="app-content hidden card p-8">
                             <h3 class="text-2xl font-bold text-[#2D5A6C] mb-4">🔗 El Talón de Aquiles: Análisis de Uniones Soldadas</h3>
                             <p class="text-gray-700 mb-4">Con Vickers se crean "mapas de dureza" para visualizar la distribución de propiedades en la unión soldada y su Zona Afectada por el Calor (ZAT), detectando zonas frágiles que podrían causar fallas catastróficas. Es un requisito en la calificación de procedimientos de soldadura.</p>
                             <img src="https://www.researchgate.net/profile/Nicollas-Arruda/publication/335104976/figure/fig7/AS:790104193568771@1565388175512/Mapas-de-microdureza-em-escala-Vickers-Hardness-Vickers-HV-no-aco-SAE-1045-com.png" alt="Mapa de dureza en soldadura" class="w-full h-auto object-cover rounded-lg clickable-image" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=Mapa+de+Dureza';">
                        </div>
                        <div id="app3" class="app-content hidden card p-8">
                             <h3 class="text-2xl font-bold text-[#2D5A6C] mb-4">🔬 Microdureza: Capas Finas, Fases y Materiales Frágiles</h3>
                             <p class="text-gray-700 mb-4">La capacidad de usar cargas muy ligeras permite medir con precisión recubrimientos PVD, fases individuales en una microestructura (ferrita, martensita), y materiales frágiles como las cerámicas, donde otros métodos fallan.</p>
                             <img src="https://www.researchgate.net/profile/Hernan-Svoboda/publication/326654670/figure/fig3/AS:652991161958406@1532696633276/Figura-4-Perfiles-de-microdureza-Vickers-probeta-680-51.png" alt="Ensayo de microdureza en laboratorio" class="w-full h-auto object-cover rounded-lg clickable-image" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=Microdureza';">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="comparativa" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">Comparando Materiales</h2>
                    <p class="max-w-3xl mx-auto text-lg text-gray-600">La dureza varía enormemente entre distintos materiales. Explora este gráfico interactivo para comparar valores típicos de dureza Vickers. Usa el filtro para centrarte en categorías específicas.</p>
                     <div class="h-line mt-6"></div>
                </div>

                <div class="max-w-4xl mx-auto card p-6 md:p-8">
                    <div class="flex justify-center md:justify-end mb-4">
                         <select id="materialFilter" class="p-2 border border-gray-300 rounded-lg font-semibold focus:ring-2 focus:ring-[#A58D7B] focus:border-[#A58D7B]">
                            <option value="Todos">Todos los Materiales</option>
                            <option value="Aceros y Aleaciones">Aceros y Aleaciones</option>
                            <option value="Metales no Ferrosos">Metales no Ferrosos</option>
                            <option value="Cerámicas y Carburos">Cerámicas y Carburos</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="hardnessChart"></canvas>
                    </div>
                     <p class="text-center text-sm text-gray-500 mt-4">Nota: El eje X (Dureza HV) utiliza una escala logarítmica para visualizar mejor el amplio rango de valores.</p>
                </div>
            </div>
        </section>

        <section id="videos" class="py-16 md:py-24 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">Videos Explicativos</h2>
                    <p class="max-w-3xl mx-auto text-lg text-gray-600">
                        Para una mejor comprensión del procedimiento, aquí tienes videos del ensayo en acción. Pasa el cursor sobre un video para destacarlo.
                    </p>
                    <div class="h-line mt-6"></div>
                </div>
                 <div class="video-grid flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8">
                    <div class="video-card-wrapper w-full md:w-1/3">
                        <div class="card p-4 flex flex-col space-y-2">
                           <h4 class="font-bold text-lg text-center text-[#2D5A6C]">Simulación y Proceso</h4>
                           <iframe class="w-full aspect-video rounded-lg" src="https://www.youtube.com/embed/oS6KCTBzxN0" title="Video de simulación del ensayo Vickers" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="video-card-wrapper w-full md:w-1/3">
                        <div class="card p-4 flex flex-col space-y-2">
                           <h4 class="font-bold text-lg text-center text-[#2D5A6C]">Demostración Práctica</h4>
                           <iframe class="w-full aspect-video rounded-lg" src="https://www.youtube.com/embed/nqtcYWeTnz8" title="Video de demostración práctica" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="video-card-wrapper w-full md:w-1/3">
                        <div class="card p-4 flex flex-col space-y-2">
                            <h4 class="font-bold text-lg text-center text-[#2D5A6C]">Animación de Durómetro</h4>
                           <iframe class="w-full aspect-video rounded-lg" src="ttps://www.youtube.com/embed/yunvRrKTvq8" title="Video de animación de durómetro" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="conversor" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">Conversor Interactivo de Dureza</h2>
                    <p class="max-w-3xl mx-auto text-lg text-gray-600">
                        En la industria, a menudo es necesario comparar valores entre diferentes escalas. Usa esta herramienta para convertir valores de dureza Vickers (HV) a otras escalas comunes.
                    </p>
                    <div class="h-line mt-6"></div>
                </div>
                <div class="max-w-2xl mx-auto card p-8">
                    <div>
                        <label for="hvInput" class="block text-xl font-semibold mb-2 text-center">Introduce Dureza Vickers (HV)</label>
                        <input type="number" id="hvInput" value="450" class="w-full text-center text-2xl p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A58D7B] focus:border-[#A58D7B]">
                    </div>
                    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                        <div class="bg-gray-100 p-6 rounded-lg">
                            <h4 class="text-lg font-bold text-[#2D5A6C]">Rockwell C (HRC)</h4>
                            <p id="hrcOutput" class="text-3xl font-bold mt-2">--</p>
                        </div>
                        <div class="bg-gray-100 p-6 rounded-lg">
                            <h4 class="text-lg font-bold text-[#2D5A6C]">Brinell (HBW)</h4>
                            <p id="hbOutput" class="text-3xl font-bold mt-2">--</p>
                        </div>
                    </div>
                    <p class="text-xs text-gray-500 mt-6 text-center">Nota: Las conversiones son aproximadas según ASTM E140 para aceros y pueden variar para otros materiales.</p>
                </div>
            </div>
        </section>

        <section id="ventajas" class="py-16 md:py-24 bg-gray-50">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">Veredicto Final: El Equilibrio entre Precisión y Pragmatismo</h2>
                    <p class="max-w-3xl mx-auto text-lg text-gray-600">Ningún método es perfecto. Aquí se presenta una visión equilibrada del ensayo Vickers, enmarcada en el "Trilema de los Ensayos de Dureza": una compensación entre Velocidad, Precisión y Versatilidad.</p>
                    <div class="h-line mt-6"></div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-2xl font-bold text-green-600 mb-4 text-center">✅ Ventajas</h3>
                        <div class="space-y-4">
                            <div class="card p-6 advantage-card">
                                <h4 class="font-bold text-lg">Alta Precisión y Exactitud</h4>
                                <p class="text-gray-600">Considerado el más exacto y repetible gracias a su indentador de diamante y medición óptica.</p>
                            </div>
                             <div class="card p-6 advantage-card">
                                <h4 class="font-bold text-lg">Escala Única y Universal</h4>
                                <p class="text-gray-600">Mide casi cualquier material en una escala continua, eliminando la necesidad de conversiones y simplificando la comparación.</p>
                            </div>
                             <div class="card p-6 advantage-card">
                                <h4 class="font-bold text-lg">Funcionalmente No Destructivo</h4>
                                <p class="text-gray-600">En microdureza, la huella es tan pequeña que permite ensayar piezas finales sin comprometer su integridad.</p>
                            </div>
                        </div>
                    </div>
                     <div>
                        <h3 class="text-2xl font-bold text-red-600 mb-4 text-center">❌ Limitaciones</h3>
                        <div class="space-y-4">
                             <div class="card p-6 limitation-card">
                                <h4 class="font-bold text-lg">Proceso Lento</h4>
                                <p class="text-gray-600">La meticulosa preparación de la muestra y la medición óptica lo hacen inadecuado para producción en masa, donde se prefiere Rockwell por su velocidad.</p>
                            </div>
                             <div class="card p-6 limitation-card">
                                <h4 class="font-bold text-lg">Preparación Crítica y Costosa</h4>
                                <p class="text-gray-600">La fiabilidad del resultado depende al 100% de una superficie perfectamente pulida, lo que requiere tiempo, habilidad y equipo metalográfico.</p>
                            </div>
                             <div class="card p-6 limitation-card">
                                <h4 class="font-bold text-lg">No Ideal para Materiales Heterogéneos</h4>
                                <p class="text-gray-600">La pequeña huella puede no ser representativa en materiales con estructuras no homogéneas (ej. fundiciones), donde la gran huella de Brinell es más útil.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="referencias" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                     <h2 class="text-3xl md:text-4xl font-bold text-[#2D5A6C] mb-4">Referencias Bibliográficas</h2>
                     <p class="max-w-3xl mx-auto text-lg text-gray-600">Este trabajo se ha basado en estándares de la industria y fuentes técnicas reconocidas.</p>
                     <div class="h-line mt-6"></div>
                </div>
                <div class="max-w-3xl mx-auto card p-8 text-sm">
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li>**Norma ISO 6507**: "Materiales metálicos — Ensayo de dureza Vickers". Es el estándar internacional que define el procedimiento.</li>
                        <li>**Norma ASTM E384**: "Standard Test Method for Microindentation Hardness of Materials". Estándar clave para ensayos de microdureza.</li>
                        <li>**Norma ASTM E92**: "Standard Test Methods for Vickers Hardness of Metallic Materials".</li>
                        <li>**Norma IRAM-IAS U 500-110**: "Acero. Método de ensayo de dureza Vickers".</li>
                        <li>**Callister, W. D., & Rethwisch, D. G.** (2018). *Materials Science and Engineering: An Introduction*. Wiley.</li>
                        <li>**Smith, R. L., & Sandland, G. E.** (1922). *An Accurate Method of Determining the Hardness of Metals...*. Proceedings of the Institution of Mechanical Engineers.</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-6 py-8 text-center">
            <p class="font-semibold text-lg">Guía Interactiva del Ensayo de Dureza Vickers</p>
            <p class="text-gray-400 mt-2">Aplicación desarrollada para facilitar la comprensión de uno de los métodos más importantes en la ciencia de materiales.</p>
        </div>
    </footer>

    <!-- Image Modal -->
    <div id="image-modal" class="image-modal-backdrop fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[70] hidden opacity-0">
        <div class="image-modal-content bg-white p-4 rounded-lg shadow-xl w-11/12 max-w-4xl max-h-[90vh] flex flex-col scale-95 opacity-0 relative">
            <button id="modal-close-btn" class="absolute -top-4 -right-4 bg-white text-black rounded-full h-10 w-10 flex items-center justify-center text-2xl font-bold shadow-lg">&times;</button>
            <div id="modal-title-container" class="flex-shrink-0 mb-4">
                <h3 id="modal-title" class="text-2xl font-bold text-[#2D5A6C]"></h3>
            </div>
            <div class="flex-grow overflow-hidden flex items-center justify-center">
                <img id="modal-image" src="" alt="" class="max-w-full max-h-full object-contain">
            </div>
            <div id="modal-description-container" class="flex-shrink-0 mt-4">
                <p id="modal-description" class="text-gray-600"></p>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            fullscreenBtn.addEventListener('click', () => {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen();
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    }
                }
            });

            const mainHeader = document.getElementById('main-header');
            const coverSection = document.getElementById('caratula');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) {
                        mainHeader.style.opacity = '1';
                    } else {
                        mainHeader.style.opacity = '0';
                    }
                });
            }, { threshold: 0.1 });

            observer.observe(coverSection);

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            const sections = Array.from(document.querySelectorAll('main section'));
            const allSlides = [document.getElementById('caratula'), ...sections];
            const navLinks = document.querySelectorAll('.nav-link');
            
            window.onscroll = () => {
                let current = '';
                allSlides.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            };

            const setupTabs = (tabSelector, contentSelector, activeClass) => {
                const tabs = document.querySelectorAll(tabSelector);
                const contents = document.querySelectorAll(contentSelector);
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove(activeClass));
                        tab.classList.add(activeClass);
                        const target = tab.getAttribute('data-target');
                        contents.forEach(content => {
                            content.classList.add('hidden');
                            if (content.id === target) {
                                content.classList.remove('hidden');
                            }
                        });
                    });
                });
            };

            setupTabs('.procedimiento-tab', '.procedimiento-content', 'active');
            setupTabs('.app-tab', '.app-content', 'active');


            const calculateBtn = document.getElementById('calculateBtn');
            const fuerzaInput = document.getElementById('fuerza');
            const diagonalInput = document.getElementById('diagonal');
            const resultadoHV = document.getElementById('resultadoHV');
            const resultadoLabel = document.getElementById('resultadoLabel');

            const calculateHV = () => {
                const F = parseFloat(fuerzaInput.value);
                const d = parseFloat(diagonalInput.value);

                if (isNaN(F) || isNaN(d) || F <= 0 || d <= 0) {
                    resultadoHV.textContent = 'Error';
                    resultadoLabel.textContent = 'Datos inválidos';
                    return;
                }

                const hv = 1.854 * (F / (d * d));
                resultadoHV.textContent = hv.toFixed(1);
                resultadoLabel.textContent = `${F} HV`;
            };

            calculateBtn.addEventListener('click', calculateHV);
            calculateHV();

            const hvInput = document.getElementById('hvInput');
            const hrcOutput = document.getElementById('hrcOutput');
            const hbOutput = document.getElementById('hbOutput');

            const convertHardness = () => {
                const hv = parseFloat(hvInput.value);

                if (isNaN(hv) || hv < 0) {
                    hrcOutput.textContent = '--';
                    hbOutput.textContent = '--';
                    return;
                }

                // Approximate conversion HV to HRC (for steels)
                // This is a simplified polynomial approximation from ASTM E140 tables
                let hrc = "N/A";
                if (hv >= 240 && hv <= 940) {
                    hrc = (109.4 - 231.5 / (Math.log(hv) - 2.8)).toFixed(1);
                }
                
                // Approximate conversion HV to HBW (for steels)
                // HBW is very close to HV for higher values.
                let hb = (hv * 0.95).toFixed(0);

                hrcOutput.textContent = hrc;
                hbOutput.textContent = hb;

            };

            hvInput.addEventListener('input', convertHardness);
            convertHardness();

            const materialsData = {
              'Todos': [
                { label: 'Plomo', value: 5, category: 'Metales no Ferrosos' },
                { label: 'Aluminio Puro', value: 20, category: 'Metales no Ferrosos' },
                { label: 'Cobre Recocido', value: 45, category: 'Metales no Ferrosos' },
                { label: 'Hierro Puro', value: 55, category: 'Aceros y Aleaciones' },
                { label: 'Acero Suave', value: 120, category: 'Aceros y Aleaciones' },
                { label: 'Acero Inoxidable', value: 200, category: 'Aceros y Aleaciones' },
                { label: 'Titanio', value: 350, category: 'Aceros y Aleaciones' },
                { label: 'Acero para Herramientas', value: 800, category: 'Aceros y Aleaciones' },
                { label: 'Carburo de Tungsteno', value: 1600, category: 'Cerámicas y Carburos' },
                { label: 'Nitruro de Silicio', value: 1800, category: 'Cerámicas y Carburos' },
                { label: 'Diamante', value: 10000, category: 'Cerámicas y Carburos' },
              ],
              'Aceros y Aleaciones': [
                { label: 'Hierro Puro', value: 55 },
                { label: 'Acero Suave', value: 120 },
                { label: 'Acero Inoxidable', value: 200 },
                { label: 'Titanio', value: 350 },
                { label: 'Acero para Herramientas', value: 800 },
              ],
              'Metales no Ferrosos': [
                  { label: 'Plomo', value: 5 },
                  { label: 'Aluminio Puro', value: 20 },
                  { label: 'Cobre Recocido', value: 45 },
              ],
              'Cerámicas y Carburos': [
                { label: 'Carburo de Tungsteno', value: 1600 },
                { label: 'Nitruro de Silicio', value: 1800 },
                { label: 'Diamante', value: 10000 },
              ]
            };

            const ctx = document.getElementById('hardnessChart').getContext('2d');
            let hardnessChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Dureza Vickers (HV)',
                        data: [],
                        backgroundColor: '#A58D7B',
                        borderColor: '#846e5e',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Dureza HV (Escala Logarítmica)',
                                font: { size: 14 }
                            }
                        },
                        y: {
                           ticks: {
                                autoSkip: false,
                                callback: function(value, index, values) {
                                    const label = this.getLabelForValue(value);
                                    if (label.length > 20) {
                                        return label.substring(0, 20) + '...';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.x !== null) {
                                        label += context.parsed.x.toFixed(1) + ' HV';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const updateChart = (filter = 'Todos') => {
                const data = materialsData[filter].sort((a, b) => a.value - b.value);
                hardnessChart.data.labels = data.map(m => m.label);
                hardnessChart.data.datasets[0].data = data.map(m => m.value);
                hardnessChart.update();
            };
            
            document.getElementById('materialFilter').addEventListener('change', (e) => {
                updateChart(e.target.value);
            });

            updateChart();

            // Caratula Interaction
            const startBtn = document.getElementById('start-presentation-btn');
            const initialContent = document.getElementById('initial-content-wrapper');
            const integrantesContent = document.getElementById('integrantes-content-wrapper');
            const firstSection = document.getElementById('intro');

            startBtn.addEventListener('click', (e) => {
                e.preventDefault();
                initialContent.style.opacity = '0';
                initialContent.style.pointerEvents = 'none';
                
                integrantesContent.style.opacity = '1';
                integrantesContent.style.pointerEvents = 'auto';

                setTimeout(() => {
                    firstSection.scrollIntoView({ behavior: 'smooth' });
                }, 2500); 
            });


            // Presentation Mode
            const playBtn = document.getElementById('play-presentation-btn');
            const playIcon = document.getElementById('play-icon');
            const stopIcon = document.getElementById('stop-icon');
            const prevNav = document.getElementById('presentation-nav-prev');
            const nextNav = document.getElementById('presentation-nav-next');
            const prevBtn = prevNav.querySelector('button');
            const nextBtn = nextNav.querySelector('button');
            
            let presentationModeActive = false;
            let currentSlide = 0;

            function updateNavButtons() {
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === allSlides.length - 1;
            }

            playBtn.addEventListener('click', () => {
                presentationModeActive = !presentationModeActive;
                if (presentationModeActive) {
                    playIcon.classList.add('hidden');
                    stopIcon.classList.remove('hidden');
                    prevNav.style.opacity = '1';
                    nextNav.style.opacity = '1';
                    prevNav.style.pointerEvents = 'auto';
                    nextNav.style.pointerEvents = 'auto';
                    document.documentElement.style.scrollSnapType = 'y mandatory';
                    allSlides.forEach(slide => slide.style.scrollSnapAlign = 'start');
                    allSlides[currentSlide].scrollIntoView({behavior: 'smooth'});
                    updateNavButtons();
                } else {
                    playIcon.classList.remove('hidden');
                    stopIcon.classList.add('hidden');
                    prevNav.style.opacity = '0';
                    nextNav.style.opacity = '0';
                    prevNav.style.pointerEvents = 'none';
                    nextNav.style.pointerEvents = 'none';
                    document.documentElement.style.scrollSnapType = '';
                    allSlides.forEach(slide => slide.style.scrollSnapAlign = '');
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlide < allSlides.length - 1) {
                    currentSlide++;
                    allSlides[currentSlide].scrollIntoView({ behavior: 'smooth' });
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    currentSlide--;
                    allSlides[currentSlide].scrollIntoView({ behavior: 'smooth' });
                }
            });

             const slideObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                       const intersectingSlideIndex = allSlides.findIndex(slide => slide.id === entry.target.id);
                       if (intersectingSlideIndex !== -1) {
                           currentSlide = intersectingSlideIndex;
                           if(presentationModeActive){
                               updateNavButtons();
                           }
                       }
                    }
                });
            }, { threshold: 0.6 });

            allSlides.forEach(slide => slideObserver.observe(slide));
            
            // Image Modal Logic
            const modal = document.getElementById('image-modal');
            const modalImg = document.getElementById('modal-image');
            const modalTitle = document.getElementById('modal-title');
            const modalDescription = document.getElementById('modal-description');
            const closeModalBtn = document.getElementById('modal-close-btn');

            document.querySelectorAll('.clickable-image').forEach(img => {
                img.addEventListener('click', () => {
                    const titleText = img.dataset.title || img.closest('.app-content, div').querySelector('h3, h4, p.font-semibold')?.textContent || 'Imagen';
                    const descriptionText = img.dataset.description || img.closest('div').querySelector('p:not(.font-semibold)')?.textContent || '';
                    
                    modalImg.src = img.src;
                    modalTitle.textContent = titleText;
                    modalDescription.textContent = descriptionText;

                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.classList.remove('opacity-0');
                        modal.querySelector('.image-modal-content').classList.remove('opacity-0', 'scale-95');
                    }, 10);
                });
            });

            const closeModal = () => {
                modal.querySelector('.image-modal-content').classList.add('opacity-0', 'scale-95');
                 modal.classList.add('opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            closeModalBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

        });
    </script>
</body>
</html>
